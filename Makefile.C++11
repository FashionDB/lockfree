CC     := g++
CFLAGS := $(CFLAGS) -Wall -O3 -march=native

all : ffbench

ffbench : main.cpp mirrorbuf.c fixedSizeMemoryLF.cpp
	$(CC) $(CFLAGS) main.cpp fixedSizeMemoryLF.cpp mirrorbuf.c -lpthread -latomic -o ffbench

clean :
	rm -f ffbench mirrorbuf.o fixedSizeMemoryLF.o
